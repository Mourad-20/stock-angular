<div class="card-body">
    <form [formGroup]="myForm" (ngSubmit)="onSubmit()">

        <div class="form-body">
            <h3 class="card-title">Person Info</h3>
            <hr>
            <div class="row p-t-20">
                <div *ngFor="let control of jsonFormData?.controls" class="col-md-6">
                    <div class="form-group"
                        [ngClass]="{'has-danger': submit==true && myForm.controls[control.name].status ==='INVALID'}">

                        <label class="form-label" *ngIf="control.label !== ''">{{ control.label }}</label>
                        
                        <input placeholder="{{ control.label }}" class="form-control" *ngIf="
                                        [
                                          'text',
                                          'password',
                                          'email',
                                          'number',
                                          'search',
                                          'tel',
                                          'url'
                                        ].includes(control.type) " 
                                        [type]="control.type" [formControlName]="control.name" [value]="control.value">
                                      
                        <select class="form-control form-select" [formControlName]="control.name" *ngIf="control.type === 'select'" [value]='control.value'>
                            
                            <option value="" disabled selected>select...</option>
                            <option *ngFor="let option of control?.option" [ngValue]="option.value" >
                                {{option.text}}</option>

                        </select>

                     
                            <div class="dropify-wrapper has-preview" *ngIf="control.type === 'file'">
            <div class="dropify-message"><span class="file-icon"></span>
             <p>Drag and drop a file here or click</p>
             <p class="dropify-error">Ooops, something wrong appended.</p>
            </div>
            <div class="dropify-loader" style="display: none;"></div>
            <div class="dropify-errors-container">
                 <ul></ul>
            </div>
                                <input   [value]='control.value' [formControlName]="control.name"
                        
                        [type]="control.type" id="input-file-now-custom-1" class="dropify" (change)="fileChangeEvent()"
                            data-default-file="../assets/node_modules/dropify/src/images/test-image-1.jpg">

                            <button type="button" class="dropify-clear">Remove</button>
                        <div class="dropify-preview" style="display: block;">
                            <span class="dropify-render">
                            <img id="yourImgTag" [src]="img"></span>

                            <div class="dropify-infos">
                                <div class="dropify-infos-inner">
                                    <p class="dropify-filename"><span class="file-icon"></span> <span
                                            class="dropify-filename-inner">test-image-1.jpg</span></p>
                                    <p class="dropify-infos-message">Drag and drop or click to replace</p>
                                </div>
                            </div>
                        </div>
                        </div>
                
                        </div>
                        <!-- <small class="form-control-feedback"> This is inline help </small> -->
                    </div>
                

            </div>


        </div>
        <div class="form-actions">
            <button type="submit" class="btn btn-success text-white"> <i class="fa fa-check"></i>
                Save</button>
            <button type="cancel" class="btn btn-inverse">Cancel</button>
        </div>
    </form>
</div>


<!-- <form [formGroup]="myForm" (ngSubmit)="onSubmit()">
<div *ngFor="let control of jsonFormData?.controls">
    <label class="form-label"*ngIf="control.label !== ''">{{ control.label }}</label>
    <input  class="form-control" *ngIf="
        [
          'text',
          'password',
          'email',
          'number',
          'search',
          'tel',
          'url'
        ].includes(control.type)
      "
      [type]="control.type"
      [formControlName]="control.name"
      [value]="control.value">

   <select  class="form-control form-select" *ngIf="control.type === 'select'">
    <option  value="">select...</option>
       <option *ngFor="let option of control?.option; index as i;" value="{{i}}">{{option.text}}</option>

   </select>
    <small  *ngIf=" submit && myForm!=undefined  && myForm.controls[control.name].status =='INVALID'"
        class="form-control-feedback">"INVALID"</small>

</div>
<button expand="full" type="submit">Submit</button>
</form>
 -->